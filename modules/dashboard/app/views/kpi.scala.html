
<!--
   Wazza
   https://github.com/Wazzaio/wazza
   Copyright (C) 2013-2015  Duarte Barbosa, João Vazão Vasques

      This program is free software: you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation, either version 3 of the License, or
      (at your option) any later version.

      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.

      You should have received a copy of the GNU General Public License
      along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="col-md-4 col-xs-10" ng-click="switchDetailedView(kpi.link)">
  <div class="col-md-12 well panel panel-default glow profile dashboard-kpi">
    <div class="panel-heading">
      <h2 class="panel-title text-center">{{kpi.name}}</h2>
    </div>
    <div class="panel-body">
        <div class="row">
          <div class="col-md-9 text-center">
            <h1 class="kpiValue" style="font-size: 50px;">{{kpi.value|wzCurrencyFilter:kpi.name}}</h1>
          </div>
          <div class="col-md-3 text-center">
            <div ng-class="{'kpi-delta-positive': kpi.delta > 0, 'kpi-delta-negative': kpi.delta < 0, 'kpi-delta': kpi.delta == 0}">
              <h3><i ng-class="{'fa fa-arrow-up': kpi.delta > 0, 'fa fa-arrow-down': kpi.delta < 0, 'fa fa-minus': kpi.delta == 0}"></i>{{kpi.delta}}%
              </h3>
            </div>
          </div> <!-- col-md-3 -->
        </div> <!-- row -->
	      <div collapse="showPlatforms">
          <hr>
          <table class="text-center table table-striped">
            <thead>
              <tr>
                <th>Platform</th>
                <th>Result</th>
                <th>Variation</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="platform in kpi.platforms">
                <th>{{platform.platform}}</th>
                <td class="kpiValue">{{platform.value|wzCurrencyFilter:kpi.name}}</td>
                <td ng-class="{'kpi-delta-positive': platform.delta > 0, 'kpi-delta-negative': platform.delta < 0, 'kpi-delta': platform.delta == 0}">{{platform.delta}} % 
                  <i ng-class="{'fa fa-arrow-up': platform.delta > 0, 'fa fa-arrow-down': platform.delta < 0, 'fa fa-minus': platform.delta == 0}"></i>
                </td>
              </tr>
            </tbody>
          </table>
	      </div>
      </div>
    </div>
  </div>
